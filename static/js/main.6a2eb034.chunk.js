(this.webpackJsonpmaster=this.webpackJsonpmaster||[]).push([[0],{112:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(12),o=n.n(a),i=(n(83),n(16)),r=n(73),l=n.n(r),u=(n(84),n(54),n(155)),d=n(29),j=d.a.initializeApp({apiKey:"AIzaSyBYfFdtRFdaxgZCXjfgxzbE_JwkaxVnsUM",authDomain:"insta-a7137.firebaseapp.com",projectId:"insta-a7137",storageBucket:"insta-a7137.appspot.com",messagingSenderId:"214576447464",appId:"1:214576447464:web:788a17f6630b86db07ee5d",measurementId:"G-STG1DZBMQK"}),p=j.firestore(),m=j.auth(),b=j.storage(),h=n(40),f=n(64),O=n.n(f),g=n(152),x=n(156),v=n(51),_=n(3),N=function(e){var t=Object(v.usePopupState)({variant:"popover",popupId:"demoMenu"});return Object(_.jsxs)("div",{children:[Object(_.jsx)(O.a,Object(h.a)(Object(h.a)({variant:"contained"},Object(v.bindTrigger)(t)),{},{"aria-controls":"fade-menu","aria-haspopup":"true"})),Object(_.jsxs)(g.a,Object(h.a)(Object(h.a)({},Object(v.bindMenu)(t)),{},{children:[Object(_.jsx)(x.a,{onClick:t.close,children:Object(_.jsx)("span",{onClick:e.functiontopass.bind(undefined,e.datatopass),children:e.labeltopass})}),e.topmenu&&(e.topmenu&&e.user?Object(_.jsx)(x.a,{onClick:t.close,children:Object(_.jsx)("span",{onClick:e.signout,children:e.signoutlabel})}):Object(_.jsxs)("div",{children:[Object(_.jsx)(x.a,{onClick:t.close,children:Object(_.jsx)("span",{onClick:e.signin,children:e.signinlabel})}),Object(_.jsx)(x.a,{onClick:t.close,children:Object(_.jsx)("span",{onClick:e.signup,children:e.signuplabel})})]})),Object(_.jsx)(x.a,{onClick:t.close,children:Object(_.jsx)("span",{children:Object(_.jsx)("strong",{children:e.lang?"ANNULER":"CANCEL"})})})]}))]})},C=n(49),y=n(59),k=n.n(y);var w=function(e){var t=this,n=e.lang,s=e.postId,a=e.username,o=e.user,r=e.caption,l=e.imageUrl,j=e.imagename,b=e.viewwhichuser,h=Object(c.useState)([]),f=Object(i.a)(h,2),O=f[0],g=f[1],x=Object(c.useState)([]),v=Object(i.a)(x,2),y=v[0],w=v[1],S=function(e,t,n){return Object(_.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:t},n)};function I(e){p.collection("posts").doc(s).collection("comments").where("timestamp","==",e).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))}function U(e){b(e),document.body.scrollTop=0,document.documentElement.scrollTop=0}return Object(c.useEffect)((function(){var e;return s&&(e=p.collection("posts").doc(s).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){g(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[s]),Object(_.jsxs)("div",{className:"post",children:[Object(_.jsxs)("div",{className:"post__header",children:[Object(_.jsx)(u.a,{className:"post__avatar",alt:a,src:"/static/images/avatar/1.jpg",onClick:U.bind(this,a)}),Object(_.jsx)("div",{className:"post__username",onClick:U.bind(this,a),children:Object(_.jsxs)("h3",{children:[a," "]})}),(o&&a===m.currentUser.displayName||o&&"admin@gmail.com"===m.currentUser.email)&&Object(_.jsx)("div",{className:"delete__Post",style:{color:"#f2f2f2"},children:Object(_.jsx)(N,{lang:n,datatopass:s,functiontopass:function(e){p.collection("posts").doc(e).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.log("Error removing document: ",e)})),d.a.storage().ref().child("images/"+j).delete().then((function(){})).catch((function(e){}))},labeltopass:n?"\u0907\u0938 \u092a\u094b\u0938\u094d\u091f \u0915\u094b \u092e\u093f\u091f\u093e\u092f\u0947\u0902":"Delete this post"})})]}),Object(_.jsx)("div",{className:"post__imgcontainer",children:l.includes(".mp4")||l.includes(".MP4")||l.includes(".mov")||l.includes(".MOV")?Object(_.jsxs)("video",{width:"100%","max-width":"500",controls:"true",autoplay:"true",loop:"true",muted:"true",playsinline:"true",children:[Object(_.jsx)("source",{src:l,type:"video/mp4"}),"Your browser does not support the video tag."]}):Object(_.jsx)("img",{className:"post__image",src:l,alt:""})}),Object(_.jsx)("h4",{className:"post__text breakfix",children:r&&Object(_.jsx)(k.a,{componentDecorator:S,children:Object(_.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(_.jsx)("strong",{onClick:U.bind(this,a),children:a}),Object(_.jsx)("h5",{style:{fontWeight:"lighter",marginLeft:"5px"},children:r})]})})}),Object(_.jsx)("div",{className:"post__comments",children:O.map((function(e){return Object(_.jsxs)("div",{className:"comment_container",children:[Object(_.jsx)("p",{className:"post__comment breakfix",children:Object(_.jsxs)(k.a,{componentDecorator:S,children:[Object(_.jsx)("strong",{onClick:U.bind(t,e.username),children:e.username})," ",e.text]})}),Object(_.jsx)("div",{className:"delete__CommentButton",children:(o&&e.username===m.currentUser.displayName||o&&"admin@gmail.com"===m.currentUser.email)&&Object(_.jsx)("div",{className:"comment__morevert",style:{color:"#f2f2f2"},children:Object(_.jsx)(N,{lang:n,datatopass:e.timestamp,functiontopass:I,labeltopass:n?"\u0907\u0938 \u091f\u093f\u092a\u094d\u092a\u0923\u0940 \u0915\u094b \u0939\u091f\u093e\u090f\u0902":"Delete this comment"})})})]})}))}),o&&Object(_.jsxs)("form",{className:"post__commentBox",children:[Object(_.jsx)(C.a,{className:"post__input",type:"text",placeholder:n?"\u090f\u0915 \u091f\u093f\u092a\u094d\u092a\u0923\u0940 \u091c\u094b\u0921\u093c\u0928\u0947":"Add a comment",value:y,onChange:function(e){return w(e.target.value)}}),Object(_.jsx)("button",{className:"post__button",disable:!y,type:"submit",onClick:function(e){e.preventDefault(),p.collection("posts").doc(s).collection("comments").add({text:y,username:o.displayName,timestamp:d.a.firestore.FieldValue.serverTimestamp()}),w("")},children:n?"\u092a\u0926":"Post"})]})]})};var S=function(e){e.postId;var t=e.imageUrl;return Object(_.jsx)("div",{className:"post__thumbcontainer",children:t.includes(".mp4")||t.includes(".MP4")||t.includes(".mov")||t.includes(".MOV")?Object(_.jsx)("div",{className:"post__thumb",children:Object(_.jsxs)("video",{width:"100%",preload:"metadata",src:t+"#t=0.1",children:[Object(_.jsx)("source",{src:t,type:"video/mp4"}),"Your browser does not support the video tag."]})}):Object(_.jsx)("div",{className:"post__thumb",children:Object(_.jsx)("img",{className:"post__image",src:t,alt:""})})})},I=n(151),U=n(153),E=n(154),L=n(150);n(112);var T=function(e){var t=e.lang,n=e.username,s=e.closemodal,a=e.viewwhichuser,o=e.viewsinglepost,r=Object(c.useState)(null),l=Object(i.a)(r,2),u=l[0],j=l[1],m=Object(c.useState)(0),h=Object(i.a)(m,2),f=h[0],O=h[1],g=Object(c.useState)(""),x=Object(i.a)(g,2),v=x[0],N=x[1];return Object(_.jsxs)("div",{className:"imageupload",children:[Object(_.jsx)("h1",{children:t}),Object(_.jsx)("progress",{className:"imageupload__progress",value:f,max:"100"}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)(C.a,{type:"text",placeholder:t?"\u090f\u0915 \u0915\u0948\u092a\u094d\u0936\u0928 \u0926\u0930\u094d\u091c \u0915\u0930\u0947\u0902 ...":"Enter a caption...",onChange:function(e){return N(e.target.value)}}),Object(_.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&j(e.target.files[0])},style:{backgroundColor:"#2f2f2f",border:"none"}}),Object(_.jsx)(L.a,{onClick:function(){b.ref("images/".concat(u.name)).put(u).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);O(t)}),(function(e){console.log(e),alert(e.message)}),(function(){b.ref("images").child(u.name).getDownloadURL().then((function(e){p.collection("posts").add({timestamp:d.a.firestore.FieldValue.serverTimestamp(),caption:v,imageUrl:e,username:n,imagename:u.name}),O(0),N(""),j(null),s(!1),document.body.scrollTop=0,document.documentElement.scrollTop=0,a(""),o(!1)}))}))},style:{color:"white"},children:t?"\u0921\u093e\u0932\u0928\u093e":"Upload"})]})},D=n(70),A=n(52),M=n.n(A),P=n(72),B=n(61),F=n.n(B);function V(){document.body.scrollTop=0,document.documentElement.scrollTop=0}function z(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var R=Object(I.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Z=function(){return Object(_.jsxs)("div",{className:"post loading",children:[Object(_.jsx)("img",{alt:"Loading...",src:"https://i.gifer.com/ZZ5H.gif",width:"20"}),Object(_.jsx)("h5",{children:"Loading..."})]})},G=function(){return!!Object(P.a)().includes("fr")};var J=function(){var e=R(),t=Object(c.useState)(z),n=Object(i.a)(t,1)[0],s=Object(c.useState)([]),a=Object(i.a)(s,2),o=a[0],r=a[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),b=j[0],h=j[1],f=Object(c.useState)(!1),O=Object(i.a)(f,2),g=O[0],x=O[1],v=Object(c.useState)(!1),C=Object(i.a)(v,2),y=C[0],k=C[1],I=Object(c.useState)(""),A=Object(i.a)(I,2),P=A[0],B=A[1],J=Object(c.useState)(""),W=Object(i.a)(J,2),Y=W[0],K=W[1],X=Object(c.useState)(""),H=Object(i.a)(X,2),Q=H[0],q=H[1],$=Object(c.useState)(null),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(!1),se=Object(i.a)(ce,2),ae=se[0],oe=se[1],ie=Object(c.useState)(""),re=Object(i.a)(ie,2),le=re[0],ue=re[1],de=Object(c.useState)(!1),je=Object(i.a)(de,2),pe=je[0],me=je[1],be=Object(c.useState)(""),he=Object(i.a)(be,2),fe=he[0],Oe=he[1],ge=Object(c.useState)(G),xe=Object(i.a)(ge,2),ve=xe[0],_e=xe[1],Ne=function(){return _e(!ve)};function Ce(){oe(!1),ue(""),me(!1),V()}return Object(c.useEffect)((function(){var e=m.onAuthStateChanged((function(e){ne(e||null)}));return function(){e()}}),[te,P]),Object(c.useEffect)((function(){p.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)(U.a,{open:b,onClose:function(){return h(!1)},children:Object(_.jsx)("div",{style:n,className:e.paper,children:Object(_.jsxs)("form",{className:"app__signup",children:[Object(_.jsx)("center",{children:Object(_.jsx)("img",{className:"app__headerImage",height:"100px;",width:"900px",src:"insta.png",alt:""})}),Object(_.jsx)(E.a,{type:"text",placeholder:ve?"\u0909\u092a\u092f\u094b\u0917\u0915\u0930\u094d\u0924\u093e \u0928\u093e\u092e":"username",value:P,onChange:function(e){return B(e.target.value)}}),Object(_.jsx)(E.a,{placeholder:ve?"\u0908\u092e\u0947\u0932":"email",type:"text",value:Q,onChange:function(e){return q(e.target.value)}}),Object(_.jsx)(E.a,{placeholder:ve?"\u092a\u093e\u0930\u0923 \u0936\u092c\u094d\u0926":"password",type:"password",value:Y,onChange:function(e){return K(e.target.value)}}),Object(_.jsx)(L.a,{type:"submit",onClick:function(e){e.preventDefault(),m.createUserWithEmailAndPassword(Q,Y).then((function(e){return e.user.updateProfile({displayName:P})})).catch((function(e){return alert(e.message)})),h(!1)},children:ve?"Inscrivez-vous":"Sign Up"})]})})}),Object(_.jsx)(U.a,{open:y,onClose:function(){return k(!1)},children:Object(_.jsx)("div",{style:n,className:e.paper,children:Object(_.jsxs)("form",{className:"app__signup",children:[Object(_.jsx)("center",{children:Object(_.jsx)("img",{className:"app__headerImage",src:"insta.png",height:"40px;",alt:""})}),Object(_.jsx)(E.a,{placeholder:ve?"\u0908\u092e\u0947\u0932":"email",type:"text",value:Q,onChange:function(e){return q(e.target.value)}}),Object(_.jsx)(E.a,{placeholder:ve?"\u092a\u093e\u0930\u0923 \u0936\u092c\u094d\u0926":"password",type:"password",value:Y,onChange:function(e){return K(e.target.value)}}),Object(_.jsx)(L.a,{type:"submit",onClick:function(e){e.preventDefault(),m.signInWithEmailAndPassword(Q,Y).catch((function(e){return alert(e.message)})),k(!1)},children:ve?"\u0938\u093e\u0907\u0928 \u0907\u0928":"Sign In"})]})})}),Object(_.jsxs)("header",{className:"app__header",children:[Object(_.jsx)("img",{className:"app__headerImage",src:"insta.png",height:"40px;",alt:""}),Object(_.jsxs)("div",{className:"app__loginContainer",children:[Object(_.jsx)("div",{className:"loginLeft",children:te?Object(_.jsx)(L.a,{onClick:function(){return m.signOut()},children:ve?"\u0932\u0949\u0917 \u0906\u0909\u091f":"Logout"}):Object(_.jsx)(L.a,{onClick:function(){return Ne()},children:ve?"EN":"\u0939\u093f\u0928\u094d\u0926\u0940"})}),Object(_.jsx)("div",{className:"loginRight",children:Object(_.jsx)(L.a,{"aria-controls":"fade-menu","aria-haspopup":"true",children:Object(_.jsx)(N,{topmenu:!0,lang:ve,user:te,functiontopass:Ne,labeltopass:ve?"English Version":"\u0939\u093f\u0928\u094d\u0926\u0940 Version",signout:function(){return m.signOut()},signoutlabel:ve?"\u0932\u0949\u0917 \u0906\u0909\u091f":"Logout",signin:function(){return k(!0)},signinlabel:ve?"\u0938\u093e\u0907\u0928 \u0907\u0928":"Sign In",signup:function(){return h(!0)},signuplabel:ve?"\u0938\u093e\u0907\u0928 \u0905\u092a":"Sign Up"})})})]})]}),Object(_.jsxs)("div",{className:"app__posts",children:[Object(_.jsx)("div",{className:"app__postsLeft",children:ae&&te?Object(_.jsx)("div",{className:"post__thumbs",children:o.filter((function(e){e.id;return e.post.username===m.currentUser.displayName})).map((function(e){var t=e.id,n=e.post;return Object(_.jsx)(M.a,{height:100,offset:[-100,100],placeholder:Object(_.jsx)(Z,{}),children:Object(_.jsx)("div",{onClick:function(){me(!0),Oe(t),oe(!1),ue(null),V()},children:Object(_.jsx)(S,{lang:ve,postId:t,user:te,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)})},t)}))}):le?Object(_.jsx)("div",{className:"post__thumbs",children:o.filter((function(e){e.id;return e.post.username===le})).map((function(e){var t=e.id,n=e.post;return Object(_.jsx)(M.a,{height:100,offset:[-100,100],placeholder:Object(_.jsx)(Z,{}),children:Object(_.jsx)("div",{onClick:function(){me(!0),Oe(t),oe(!1),ue(null),V()},children:Object(_.jsx)(S,{lang:ve,postId:t,user:te,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)})},t)}))}):pe?o.filter((function(e){var t=e.id;e.post;return t===fe})).map((function(e){var t=e.id,n=e.post;return Object(_.jsx)(w,{lang:ve,postId:t,user:te,username:n.username,caption:n.caption,imageUrl:n.imageUrl,imagename:n.imagename,viewwhichuser:ue,viewsinglepost:me},t)})):o.map((function(e){var t=e.id,n=e.post;return Object(_.jsx)(M.a,{height:100,offset:[-100,100],placeholder:Object(_.jsx)(Z,{}),children:Object(_.jsx)(w,{lang:ve,postId:t,user:te,username:n.username,caption:n.caption,imageUrl:n.imageUrl,imagename:n.imagename,viewwhichuser:ue,viewsinglepost:me},t)},t)}))}),Object(_.jsx)("div",{className:"app__postsRight no-mobile",children:Object(_.jsx)(D.a,{className:"floating",url:"https://instagr.am/p/CAX8psZMEdL_Lkto_rA_8oIhfVE1IJNLUobpkc0/",maxWidth:320,hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0,onLoading:function(){},onSuccess:function(){},onAfterRender:function(){},onFailure:function(){}})})]}),Object(_.jsx)("footer",{className:"footer",children:te?Object(_.jsxs)("div",{children:[Object(_.jsx)(U.a,{open:g,onClose:function(){return x(!1)},children:Object(_.jsx)(T,{lang:ve,username:te.displayName,closemodal:x,viewwhichuser:ue,viewsinglepost:me})}),Object(_.jsxs)("div",{className:"footer__icons",style:{marginTop:"-1px",backgroundColor:"#2f2f2f"},children:[Object(_.jsx)("div",{className:"footer__left",children:Object(_.jsx)(F.a,{style:{color:"#f3f3f3",fontSize:"40px"},onClick:Ce,className:"app__home"})}),Object(_.jsx)("div",{className:"footer__middle",children:Object(_.jsx)(l.a,{onClick:function(){return x(!0)},style:{color:"#f3f3f3",fontSize:"40px"},className:"app__add-postImg"})}),Object(_.jsx)("div",{className:"footer__right",children:Object(_.jsx)(u.a,{style:{color:"#f3f3f3"},onClick:function(){oe(!0),V()},className:"footer__avatar",alt:P})})]})]}):Object(_.jsxs)("div",{className:"footer__icons",children:[Object(_.jsx)("div",{className:"footer__left",children:Object(_.jsx)(F.a,{onClick:Ce,className:"app__home",style:{color:"#2f2f2f"}})}),Object(_.jsxs)("div",{className:"footer__middle",children:[Object(_.jsxs)(L.a,{style:{color:"white",backgroundColor:"#2f2f2f",width:"100px"},onClick:function(){return k(!0)},children:[ve?"\u0938\u093e\u0907\u0928 \u0907\u0928":"SIGN IN"," \xa0\xa0"]}),Object(_.jsx)(L.a,{style:{color:"white",backgroundColor:"#2f2f2f",width:"100px"},onClick:function(){return h(!0)},children:ve?"\u0938\u093e\u0907\u0928 \u0905\u092a":"SIGN UP"})]}),Object(_.jsx)("div",{className:"footer__right",children:"\xa0"})]})})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,158)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),a(e),o(e)}))};o.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(J,{})}),document.getElementById("root")),W()},54:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.6a2eb034.chunk.js.map